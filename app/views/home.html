
<!-- <div class="loader" ng-show="">
  <center>
    <i class="fa fa-circle-o-notch slow-spin fa-4x fa-fw" ></i><br><br>
    <span style="margin:20px;font-size:20px">Loading...</span>
  <center>
</div> -->
<div class="container-fluid" >
  <div class="row">
    <div class="col-md-3" style="background-color:#ffffff;height:85vh;border-right:1px solid;border-color:#C3C8C9;">
      <div class="row" style="margin-top:15px;">
        <div class="col-md-12">
          <center>
            <div flow-init flow-files-added="uploadImage($files)">
              <img ng-src="{{user.profile.dp}}" class="dp">
              <br><br><br>
              <input type="file" value="Upload Image" style="margin:10px 0px 0px 12px;"flow-btn/>
            </div>
          </center>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12" align="center" >
          <h3>{{user.profile.name|uppercase}}</h3>
          <h5>{{user.profile.email}}</h5>
        </div>
      </div>
      <br><br>
      <div class="row">
        <div class="col-md-12">
          <tags-input ng-model="interests" max-tags="4" on-tag-added="addInterest()" on-tag-removed="addInterest()">
          </tags-input>
        </div>
      </div>   
    </div>
    <div class="col-md-6" style="background-color:#ffffff;height:85vh">
      
    </div>

    <button ng-controller="AuthCtrl" class="btn btn-lg btn-info pull-right" style="margin:-65px 0px 0px 20px" ng-click="logout()">Logout</button>

    <div class="col-md-3" style="background-color:#ffffff;padding:0px;height:85vh;position:relative;overflow:scroll;overflow-x:hidden;">
      <div class="row" id="filter">
        <center>
          <div class="col-md-6" style="margin-top:10px">
            <label class="radio_inline"  >
              <input type="radio" name="inlineRadioOptions" ng-model="filteredUser" ng-Change="uFilter()" value="all" checked>&nbsp;&nbsp;<span class="h4">All</span>
            </label>
          </div>
        </center>
          <div class="col-md-6" style="margin-top:10px">
            <label class="radio_inline"  >
              <input type="radio" name="inlineRadioOptions" ng-model="filteredUser" ng-Change="uFilter()" value="interest">&nbsp;&nbsp;<span class="h4">Interest</span>
            </label>
          </div>
      </div>
        <div style="position:relative;margin-top:55px">
          <div ng-repeat="(key,value) in list|interest:filteredUser" >
            <div class="col-md-12 users" ng-if="user.profile.name!==value.name"ng-click="toggle(value.name)"style="">
              <div class="row">
                <div class="col-md-3" >
                  <img ng-src="{{value.dp}}" class="udp"> 
                </div>
                <div class="col-md-9 pull-right" style="font-size:24px;text-align:right;padding:10px;">
                  {{value.name}}
                  <div class="row" style="position:relative;text-align:left">
                    <span class="interest" ng-repeat="int in value.interests track by $index">
                      {{int}}&nbsp;
                    </span>
                  </div>
                </div>
              </div>
          </div>
        </div>
    </div>
  </div>

  <div ng-show="popup" id="c_box" ng-init="init()">
    <div style="height: 28px;background-color:#f6546a;border-radius:5px 5px 0px 0px;">
      {{name}}
    </div>
    <div class="content"style="overflow:scroll;height:322px;">
      <div ng-repeat="(key,value) in msgArray |orderBy:'timestamp'">
        <div class="msgInfo" ng-if="value.to===name"align='right' style="margin-left:30%" >
            <div id="msg"style="background:#C8F4B5;border-radius:5px;">{{value.message}}&nbsp;&nbsp;&nbsp;
              <b id="time">{{value.time}}&nbsp;&nbsp;</b>
            </div> 
            <br>
        </div>                             
        <div class="msgInfo" ng-if="value.to===user.profile.name" align='left' style="margin-left:3px">
          <div id="msg"style="background:LAVENDER;border-radius:5px;">{{value.message}}&nbsp;&nbsp;&nbsp;
            <b id="time">{{value.time}}&nbsp;&nbsp;</b>
          </div>
          <br>
        </div>                             
      </div>
    </div>
    <div>
      <form ng-submit="send_msg(msg,name)">
          <input name="msg_field" type="text" class="form-control" placeholder="Type a message" autocomplete="off" ng-model="msg" style="position:absolute;top:320px;">
          <button class="btn btn-info" type="submit" style="position:absolute;top:320px;left:231px">Send</button>
      </form>
    </div>
  </div>
</div>


